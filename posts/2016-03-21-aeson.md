---
title: Building - Introducción a Aeson - ES
date: 2016-03-21 20:57:22
tags: hackage, haskell
metadescription: Introducción al uso de la librería AESON.
---

# Aeson la librería de la lingua franca

# Introducción
## JSON

JavaScript Object Notation [(JSON)](http://json.org/) se ha convertido en el
formato para intercambio de datos más utilizado en distintos tipos de aplicaciones.
Y por tal motivo se ha vuelto necesario poder componer y descomponer una cadena
de caractere que se encuentra en este formato, a partir de una representación
en alguna estructura, en algún lenguaje de programación.

JSON está conformado por dos estructuras:

- *Un Objeto*: Una colección de pares (nombre:valor).
- *Una lista*: Una colección de valores asignados a un nombre.

Por ejemplo:

```json
{
  "canciones" : [
    {
          "título" : "Que no te haga bobo Jacobo"
       ,  "autor" : "Molotov"
       ,  "álbum" : "¿Dónde jugarán las niñas?"
    },
    {
          "título" : "Yendo a la casa de Damián"
       ,  "autor" : "El Cuarteto de Nos"
       ,  "álbum" : "Raro"
    }
  ]
}
```

Se puede identificar la lista *canciones* y los *objetos* dentro de
esta lista que corresponden a canciones. Los pares (nombre:valor), en este caso el
*título*, *autor* y el *álbum*, son los datos de los objetos.
Este formato es ampliamente utilizado por su fácilidad para representar datos
en algún lenguaje de programación. Y para poder intercambiar datos entre múltiples
puntos. Además, los paquetes cuyo contenido está en formato JSON son de menor tamaño
en comparación con otros formatos para el intercambio de datos, por ejemplo el
metalenguaje Extensible Markup Language [(XML)](https://en.wikipedia.org/wiki/XML).

En el siguiente pedazo de código puede observar un ejemplo de XML para el ejemplo
anterior escrito en JSON.

```xml
<canciones>
    <cancion>
        <título>Que no te haga bobo Jacobo</título>
        <autor>Molotov</autor>
        <álbum>¿Dónde jugarán las niñas?</álbum>
    </cancion>
    <cancion>
        <título>Yendo a la casa de Damián</título>
        <autor>El Cuarteto de Nos</autor>
        <álbum>Raro</álbum>
    </cancion>
</canciones>

```

Y al verificar el tamaño de estos dos archivos se obtiene el siguiente resultado:

```shell
camm:~$ ls -lh ./*
-rw-r--r-- 1 camm users 305 Mar 22 22:05 ./ex.json
-rw-r--r-- 1 camm users 349 Mar 22 22:05 ./ex.xml
```

La diferencia no es muy significativa (44KB) en este pequeño ejemplo. Pero en un
ejemplo más complejo se podría notar claramente su diferencia.

No profundizaré más en JSON, pero espero que lo poco que he explicado sirva como
referencia para aquellas personas que no lo conocían.

## AESON

[AESON](https://github.com/bos/aeson) es una librería para hacer análisis sintáctico (parsing) y codificar
JSON en Haskell.

# Ejemplo

Se utilizará la abstracción de una canción como ejemplo, de la cula se desea
conocer el autor, el nombre del álbum al cual pertenece, el título y el año de
publicación..

A continuación, un ejemplo de una canción en el formato JSON.

```json
{
  "título" : "Que no te haga bobo Jacobo"
  ,  "autor" : "Molotov"
  ,  "álbum" : "¿Dónde jugarán las niñas?"
  ,  "año" : 456
}
```

Se definirá un tipo de dato en Haskell para ese JSON.

```haskell
data Cancion =
  Cancion
    { titulo :: String
    , autor :: String
    , album :: String
    , anio :: Int
    } deriving Show
```

# Conclusión y agradecimientos

Espero que te haya gustado, cualquier comentario, sugerencia o preguta la puedes
hacer en los comentarios de Disqus. Te aseguro que contestaré tan rápido como pueda. ;)
ByE!

PLAN CONTENIDO DEL BLOG:
- Introducción
- Tema 1
- Tema 2
  - Subtema 1
  - Subtema 2
- Ejemplos
- Conclusiones
- Agradecimientos
