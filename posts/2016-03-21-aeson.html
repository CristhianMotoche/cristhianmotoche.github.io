<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="description" content="A blog page for people who is interested in programming.">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>CAMM Blog</title>
    <link rel="icon" type="image/png" href="../images/devi.png">
    <link href="../css/default.css" rel="stylesheet">
  </head>
  <body class="body">
    <div class="body__container">
      <div class="logo">
        <h1 class="logo__title">
          <a class="logo__link" href="../">Camm Blog Page</a>
        </h1>
      </div>
      <nav class="navbar">
        <ul class="nav-list">
          <li class="nav-list__item">
            <a class="nav-list__link" href="../">Home</a>
          </li>
          <li class="nav-list__item">
            <a class="nav-list__link" href="../contact.html">About</a>
          </li>
          <li class="nav-list__item">
            <a class="nav-list__link" href="../archive.html">Archive</a>
          </li>
        </ul>
      </nav>
      <div class="content">
        <h1 class="content__title">WAIT-FOR - Introducción a Aeson - ES</h1>
        <div class="content_body">
          <link href="../css/hk-pyg.css" rel="stylesheet">
<div class="info">
    Posted on March 21, 2016
    
</div>
<div class="info">
    
    Tags: <a href="../tags/hackage.html">hackage</a>, <a href="../tags/haskell.html">haskell</a>, <a href="../tags/es.html">es</a>, <a href="../tags/wait-for.html">wait-for</a>
    
</div>

<h1 id="aeson-la-librería-de-la-lingua-franca">Aeson la librería de la lingua franca</h1>
<h1 id="introducción">Introducción</h1>
<h2 id="json">JSON</h2>
<p>JavaScript Object Notation <a href="http://json.org/">(JSON)</a> se ha convertido en el formato para intercambio de datos más utilizado en distintos tipos de aplicaciones. Y por tal motivo se ha vuelto necesario poder componer y descomponer una cadena de caractere que se encuentra en este formato, a partir de una representación en alguna estructura, en algún lenguaje de programación.</p>
<p>JSON está conformado por dos estructuras:</p>
<ul>
<li><em>Un Objeto</em>: Una colección de pares (nombre:valor).</li>
<li><em>Una lista</em>: Una colección de valores asignados a un nombre.</li>
</ul>
<p>Por ejemplo:</p>
<div class="sourceCode"><pre class="sourceCode json"><code class="sourceCode json"><span class="fu">{</span>
  <span class="dt">&quot;canciones&quot;</span> <span class="fu">:</span> <span class="ot">[</span>
    <span class="fu">{</span>
          <span class="dt">&quot;título&quot;</span> <span class="fu">:</span> <span class="st">&quot;Que no te haga bobo Jacobo&quot;</span>
       <span class="fu">,</span>  <span class="dt">&quot;autor&quot;</span> <span class="fu">:</span> <span class="st">&quot;Molotov&quot;</span>
       <span class="fu">,</span>  <span class="dt">&quot;álbum&quot;</span> <span class="fu">:</span> <span class="st">&quot;¿Dónde jugarán las niñas?&quot;</span>
    <span class="fu">}</span><span class="ot">,</span>
    <span class="fu">{</span>
          <span class="dt">&quot;título&quot;</span> <span class="fu">:</span> <span class="st">&quot;Yendo a la casa de Damián&quot;</span>
       <span class="fu">,</span>  <span class="dt">&quot;autor&quot;</span> <span class="fu">:</span> <span class="st">&quot;El Cuarteto de Nos&quot;</span>
       <span class="fu">,</span>  <span class="dt">&quot;álbum&quot;</span> <span class="fu">:</span> <span class="st">&quot;Raro&quot;</span>
    <span class="fu">}</span>
  <span class="ot">]</span>
<span class="fu">}</span></code></pre></div>
<p>Se puede identificar la lista <em>canciones</em> y los <em>objetos</em> dentro de esta lista que corresponden a canciones. Los pares (nombre:valor), en este caso el <em>título</em>, <em>autor</em> y el <em>álbum</em>, son los datos de los objetos. Este formato es ampliamente utilizado por su fácilidad para representar datos en algún lenguaje de programación. Y para poder intercambiar datos entre múltiples puntos. Además, los paquetes cuyo contenido está en formato JSON son de menor tamaño en comparación con otros formatos para el intercambio de datos, por ejemplo el metalenguaje Extensible Markup Language <a href="https://en.wikipedia.org/wiki/XML">(XML)</a>.</p>
<p>En el siguiente pedazo de código puede observar un ejemplo de XML para el ejemplo anterior escrito en JSON.</p>
<div class="sourceCode"><pre class="sourceCode xml"><code class="sourceCode xml"><span class="kw">&lt;canciones&gt;</span>
    <span class="kw">&lt;cancion&gt;</span>
        <span class="kw">&lt;titulo&gt;</span>Que no te haga bobo Jacobo<span class="kw">&lt;/titulo&gt;</span>
        <span class="kw">&lt;autor&gt;</span>Molotov<span class="kw">&lt;/autor&gt;</span>
        <span class="kw">&lt;album&gt;</span>¿Dónde jugaran las niñas?<span class="kw">&lt;/album&gt;</span>
    <span class="kw">&lt;/cancion&gt;</span>
    <span class="kw">&lt;cancion&gt;</span>
        <span class="kw">&lt;titulo&gt;</span>Yendo a la casa de Damian<span class="kw">&lt;/titulo&gt;</span>
        <span class="kw">&lt;autor&gt;</span>El Cuarteto de Nos<span class="kw">&lt;/autor&gt;</span>
        <span class="kw">&lt;album&gt;</span>Raro<span class="kw">&lt;/album&gt;</span>
    <span class="kw">&lt;/cancion&gt;</span>
<span class="kw">&lt;/canciones&gt;</span></code></pre></div>
<p>Y al verificar el tamaño de estos dos archivos se obtiene el siguiente resultado:</p>
<pre class="shell"><code>camm:~$ ls -lh ./*
-rw-r--r-- 1 camm users 305 Mar 22 22:05 ./ex.json
-rw-r--r-- 1 camm users 349 Mar 22 22:05 ./ex.xml</code></pre>
<p>La diferencia no es muy significativa (44KB) en este pequeño ejemplo. Pero en un ejemplo más complejo se podría notar claramente su diferencia.</p>
<p>No profundizaré más en JSON, pero espero que lo poco que he explicado sirva como referencia para aquellas personas que no lo conocían.</p>
<h2 id="aeson">AESON</h2>
<p><a href="https://github.com/bos/aeson">AESON</a> es una librería para hacer análisis sintáctico (parsing) y codificar JSON en Haskell.</p>
<h1 id="ejemplo">Ejemplo</h1>
<p>Se utilizará la abstracción de una canción como ejemplo, de la cula se desea conocer el autor, el nombre del álbum al cual pertenece, el título y el año de publicación..</p>
<p>A continuación, un ejemplo de una canción en el formato JSON.</p>
<div class="sourceCode"><pre class="sourceCode json"><code class="sourceCode json"><span class="fu">{</span>
  <span class="dt">&quot;título&quot;</span> <span class="fu">:</span> <span class="st">&quot;Que no te haga bobo Jacobo&quot;</span>
  <span class="fu">,</span>  <span class="dt">&quot;autor&quot;</span> <span class="fu">:</span> <span class="st">&quot;Molotov&quot;</span>
  <span class="fu">,</span>  <span class="dt">&quot;álbum&quot;</span> <span class="fu">:</span> <span class="st">&quot;¿Dónde jugarán las niñas?&quot;</span>
  <span class="fu">,</span>  <span class="dt">&quot;año&quot;</span> <span class="fu">:</span> <span class="dv">456</span>
<span class="fu">}</span></code></pre></div>
<p>Se definirá un tipo de dato en Haskell para ese JSON.</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">data</span> <span class="dt">Cancion</span> <span class="fu">=</span>
  <span class="dt">Cancion</span>
    {<span class="ot"> titulo ::</span> <span class="dt">String</span>
    ,<span class="ot"> autor ::</span> <span class="dt">String</span>
    ,<span class="ot"> album ::</span> <span class="dt">String</span>
    ,<span class="ot"> anio ::</span> <span class="dt">Int</span>
    } <span class="kw">deriving</span> <span class="dt">Show</span></code></pre></div>
<h1 id="conclusión-y-agradecimientos">Conclusión y agradecimientos</h1>
<p>Espero que te haya gustado, cualquier comentario, sugerencia o preguta la puedes hacer en los comentarios de Disqus. Te aseguro que contestaré tan rápido como pueda. ;) ByE!</p>
<p>PLAN CONTENIDO DEL BLOG:</p>
<ul>
<li><del>Introducción</del></li>
<li><del>JSON</del>
<ul>
<li><del>Ejemplos</del></li>
</ul></li>
<li><del>Aeson</del>
<ul>
<li>Ejemplos</li>
</ul></li>
<li><del>Conclusiones y Agradecimientos</del></li>
</ul>

<div id="disqus_thread"></div>
<script>
/**
 *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
 *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
 */
/*
   var disqus_config = function () {
   this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
   this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
   };
 */
(function() {  // DON'T EDIT BELOW THIS LINE
 var d = document, s = d.createElement('script');

 s.src = '//cristhianmotochegithubio.disqus.com/embed.js';

 s.setAttribute('data-timestamp', +new Date());
 (d.head || d.body).appendChild(s);
 })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

        </div>
      </div>
      <footer class="footer">
        <p class="footer__hakyll">Site proudly generated by: <a href="http://jaspervdj.be/hakyll">Hakyll</a></p>
        <a class="footer__license" rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">CAMM Blog</span> by <span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">Cristhian Alberto Motoche Macas</span> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
      </footer>
    </div>
    <script async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
  </body>
</html>
